<!DOCTYPE html>
<html lan="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>home page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../Assets/css/ottIndex.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
</head>

<body>

    <div class="navbar">
        <div class="navbar-container">
            <div class="logo-container">
                <img src="../../Assets/images/logo/OTT_logo.png" alt="logo-image">
            </div>
            <div class="menu-container">
                <ul class="menu-list">
                    <li class="menu-list-item">Home</li>
                    <li class="menu-list-item">Movies</li>
                    <li class="menu-list-item">Trends</li>

                </ul>
            </div>

            <input type="search" placeholder="Search movies">
            <!-- <div class="profile-container">
                <img class="profile-picture" src="../../Assets/images/naane_varuven/dhanush image.jpg"
                    alt="profile_image">
                <div class="profile-text-container">
                    <h3>profile</h3>
                </div>
                <i class="fa-solid fa-caret-down"></i>
            </div>
            <div class="toggle">
                <i class="fa-solid fa-moon toggle-icon"></i>
                <i class="fa-solid fa-sun  toggle-icon"></i>
                <div class="toggle-ball"></div>
            </div> -->
        </div>

    </div>
    <div class="sidebar">
        <i class="left-menu-icon fa-solid fa-magnifying-glass"></i>
        <i class="left-menu-icon fa-thin fa-house-chimney"></i>
        <i class="left-menu-icon fa-regular fa-bookmark"></i>
    </div>

    <div class="content-container">
        <!-- <div class="banner-container">

            <img class="banner-title" src="https://www.themoviedb.org/t/p/w780/wSdXGpSmQBoPXtYRZsafUSGKC8N.jpg" alt="monry heist">

            <p class="banner-desc">(The House of Paper') is a Spanish heist crime drama television series created by
                Álex Pina. The series traces two long-prepared heists led by the Professor (Álvaro Morte), one on the
                Royal Mint of Spain, and one on the Bank of Spain, told from the perspective of one of the robbers,
                Tokyo (Úrsula Corberó).</p>
            <button class="banner-button">Watch now</button>
        </div> -->

        <div class="movie-list-container1">

            <h1 class="movie-list-head">TAMIL MOVIES</h1>
            <div class="movie-list-wrapper">
                <div class="movie-list">

                    <!-- <div class="movie-list-item">
                
                    </div> -->

                </div>
                <i class="fa-solid fa-chevron-right arrow"></i>
            </div>

            <h1 class="movie-list-head">ENGLISH MOVIES</h1>
            <div class="movie-list-wrapper">
                <div class="movie-list2">

                </div>
                </div>
                <i class="fa-solid fa-chevron-right arrow"></i>
            </div>

            <h1 class="movie-list-head">HINDI MOVIES</h1>

            <div class="movie-list-wrapper">
                <div class="movie-list3">
                   
                </div>
                </div>
                <i class="fa-solid fa-chevron-right arrow"></i>
            </div>

            <h1 class="movie-list-head">KANADA MOVIES</h1>
            <div class="movie-list-wrapper">
                <div class="movie-list">
                    
                </div>
            </div>
                <i class="fa-solid fa-chevron-right arrow"></i>
            </div>
        </div>

        <script>          const ott_movie_lists= JSON.parse(localStorage.getItem("ott_movie_list"))

          for(const ott of ott_movie_lists){
     
            const movie_list_items = document.createElement("div")
            movie_list_items.setAttribute("class", "movie-list-item");

            const main_image = document.createElement("img");
            main_image.setAttribute("class", "movie-list-item-img");
            main_image.setAttribute("src", ott.images.main_image);
            movie_list_items.append(main_image);

            const title = document.createElement("span");
            title.innerText = ott.name.movie_name;
            title.setAttribute("class", "movie-list-item-title");
            movie_list_items.append(title);

            const description = document.createElement("p");
            description.innerText = ott.Description;
            description.setAttribute("class", "movie-list-item-desc");
            movie_list_items.append(description);

            const movie_button = document.createElement("button");
            movie_button.innerText = "Watch now";
            movie_button.setAttribute("class", "movie-list-item-button");
            movie_list_items.append(movie_button);

            document.querySelector(".movie-list").append(movie_list_items);

        }

            const arrows = document.querySelectorAll(".arrow");
            const movieLists = document.querySelectorAll(".movie-list")

            arrows.forEach((arrow, i) => {
                const itemNumber = movieLists[i].querySelectorAll("img").length;
                let clickCounter = 0;
                arrow.addEventListener("click", () => {
                    clickCounter++;
                    if (itemNumber - (4 + clickCounter) >= 0) {
                        movieLists[i].style.transform = `translateX(${movieLists[i].computedStyleMap().get("transform")[0].x.value
                            - 300}px)`;
                    } else {
                        movieLists[i].style.transform = "translateX(0)";
                        clickCounter = 0;
                    }

                });
                console.log(movieLists[i].querySelectorAll("img").length);
                });
        </script>

</body>

</html>